/*! ****
JsSimpleDateFormat v1.0 (20080509)
This library is for formatting and parsing date time

Copyright (C) 2008 AT Mulyana (atmulyana@yahoo.com)

This library is free software; you can redistribute it and/or modify it
under the terms of the GNU Lesser General Public License version 2.1
See http://gnu.org/licenses/lgpl.html

Send the bug report to 'atmulyana@yahoo.com'
*****/
;Function.prototype.__extends__=function(b,a){this.prototype=new b();for(m in a){this.prototype[m]=a[m]}};function JsDateFormatSymbols(b){if(!JsDateFormatSymbols.__symbols__[b]){b="en"}var a=JsDateFormatSymbols.__symbols__[b];for(p in a){this["_"+p]=a[p]}}JsDateFormatSymbols.prototype={getAmPmStrings:function(){return this._amPmStrings},getEras:function(){return this._eras},getMonths:function(){return this._months},getShortMonths:function(){return this._shortMonths},getShortWeekdays:function(){return this._shortWeekdays},getWeekdays:function(){return this._weekdays},setAmPmStrings:function(a){this._amPmStrings=a},setEras:function(a){this._eras=a},setMonths:function(a){return this._months=a},setShortMonths:function(a){return this._shortMonths=a},setShortWeekdays:function(a){return this._shortWeekdays=a},setWeekdays:function(a){return this._weekdays=a}};JsDateFormatSymbols.__symbols__={en:{amPmStrings:["AM","PM"],eras:["AD","BC"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],shortWeekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},id:{amPmStrings:["AM","PM"],eras:["M","SM"],months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","Nopember","Desember"],shortMonths:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nop","Des"],shortWeekdays:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],weekdays:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]}};function JsSimpleDateFormat(b,d){this._arPtn=[];this._ptn=null;this.flexWhiteSpace=false;if(b){this.applyPattern(b)}else{this.applyPattern(this._getDefaultPattern())}if(d){if(d instanceof JsDateFormatSymbols){this.setDateFormatSymbols(d)}else{this.setDateFormatSymbols(new JsDateFormatSymbols(d))}}else{this.setDateFormatSymbols(new JsDateFormatSymbols("en"))}var a=new Date();try{a.setFullYear(a.getFullYear()-80)}catch(c){a=new Date(0)}this.set2DigitYearStart(a)}JsSimpleDateFormat._Base=function(){};JsSimpleDateFormat._Base.prototype={isNumber:function(){return false},parse:function(a,b){return -1},toStr:function(){return""}};JsSimpleDateFormat._Str=function(a){JsSimpleDateFormat._Base.call(this);this._vals=[];if(a){this.append(a)}};JsSimpleDateFormat._Str.__extends__(JsSimpleDateFormat._Base,{flexWhiteSpace:false,append:function(a){this._vals.push(a)},parse:function(c,d){var b=this.toStr();if(this.flexWhiteSpace){var e=b.replace(/\s+/g," ");if(e==" "){e="\\s+"}else{e="\\s*"+e.replace(/^\s+/,"").replace(/\s+$/,"").replace(/([^a-zA-Z0-9\s])/g,"\\$1").replace(/\s+/g,"\\s+")+"\\s*"}var a=new RegExp("^("+e+")");if(a.test(c)){return RegExp.$1.length}}else{if(c.indexOf(b)==0){return b.length}}return -1},toStr:function(){return this._vals.join("")}});JsSimpleDateFormat._Ltr=function(){JsSimpleDateFormat._Base.call(this);this._count=1;this._parseVal=parseInt("NaN")};JsSimpleDateFormat._Ltr.__extends__(JsSimpleDateFormat._Base,{name:"",dt:new Date(),fmtSb:new JsDateFormatSymbols("en"),addCount:function(){this._count++},applyParseValue:function(b,a){return b},getParseValue:function(){return this._parseVal},getValue:function(){return -1}});JsSimpleDateFormat._Text=function(){JsSimpleDateFormat._Ltr.call(this)};JsSimpleDateFormat._Text.__extends__(JsSimpleDateFormat._Ltr,{getIndex:function(){return -1},getLong:function(){var a=this.getIndex(),b=this.getLongValues();if(a>=0&&a<b.length){return b[a]}return""},getLongValues:function(){return[]},getShort:function(){var a=this.getIndex(),b=this.getShortValues();if(a>=0&&a<b.length){return b[a]}return""},getShortValues:function(){return[]},getValue:function(){return this.getIndex()},parse:function(f,g){this._parseVal=parseInt("NaN");var a=this.getLongValues(),d=this.getShortValues();var e=new RegExp("^("+a.join("|")+"|"+d.join("|")+")","i");if(!e.test(f)){return -1}var b=RegExp.$1.toUpperCase();for(var c=0;c<a.length;c++){if(b==a[c].toUpperCase()){this._parseVal=c;return b.length}}for(var c=0;c<d.length;c++){if(b==d[c].toUpperCase()){this._parseVal=c;return b.length}}},toStr:function(){if(this._count<4){return this.getShort()}return this.getLong()}});JsSimpleDateFormat._Number=function(){JsSimpleDateFormat._Ltr.call(this)};JsSimpleDateFormat._Number.__extends__(JsSimpleDateFormat._Ltr,{getNumber:function(){return this.getValue()},isNumber:function(){return true},isValidVal:function(a){return true},parse:function(d,e){this._parseVal="";var b=0,g=d.charAt(0),a="";if(e){while(b<this._count&&g>="0"&&g<="9"){a+=g;if(++b<d.length){g=d.charAt(b)}else{break}}}else{while(g>="0"&&g<="9"){a+=g;if(++b<d.length){g=d.charAt(b)}else{break}}}if(b==0){return -1}var f=parseInt(a,10);if(this.isValidVal(f)){this._parseVal=f}else{return -1}return b},toStr:function(){var a=this.getNumber()+"",b="";if(a.charAt(0)=="-"){a=a.substr(1);b="-"}while(a.length<this._count){a="0"+a}return b+a}});JsSimpleDateFormat._Month=function(){JsSimpleDateFormat._Text.call(this)};JsSimpleDateFormat._Month.__extends__(JsSimpleDateFormat._Text,{name:"month",isNumber:function(){if(this._count<3){return true}else{return false}},isValidVal:function(a){return a>=1&&a<=12},parse:function(a,b){if(this._count<3){return JsSimpleDateFormat._Number.prototype.parse.call(this,a,b)}return JsSimpleDateFormat._Text.prototype.parse.call(this,a,b)},toStr:function(){if(this._count<3){return JsSimpleDateFormat._Number.prototype.toStr.call(this)}return JsSimpleDateFormat._Text.prototype.toStr.call(this)}});JsSimpleDateFormat._Year=function(){JsSimpleDateFormat._Number.call(this)};JsSimpleDateFormat._Year.__extends__(JsSimpleDateFormat._Number,{name:"year",stC:1900,stY:1970,parse:function(c,d){var a=0;if(c.charAt(0)=="-"){c=c.substr(1);a++}var b=JsSimpleDateFormat._Number.prototype.parse.call(this,c,d);if(b==-1){return -1}if(a>0){this._parseVal=-this._parseVal}if(this._count<3&&this._parseVal>0&&b==2){var e=this.stC+this._parseVal;if(e<=this.stY){e+=100}this._parseVal=e}return b+a},toStr:function(){if(this._count<4){var a=(this.getNumber()%100)+"";if(a.length<2){return"0"+a}return a}return JsSimpleDateFormat._Number.prototype.toStr.call(this)}});JsSimpleDateFormat._ltr={};JsSimpleDateFormat._ltr.G=function(){JsSimpleDateFormat._Text.call(this)};JsSimpleDateFormat._ltr.G.__extends__(JsSimpleDateFormat._Text,{name:"era",getIndex:function(){return(this.dt.getFullYear()>0?0:1)},getLongValues:function(){return this.fmtSb.getEras()},getShortValues:function(){return this.getLongValues()}});JsSimpleDateFormat._ltr.y=function(){JsSimpleDateFormat._Year.call(this)};JsSimpleDateFormat._ltr.y.__extends__(JsSimpleDateFormat._Year,{applyParseValue:function(b,a){if(a.era){if(a.era.getParseValue()==0&&this._parseVal<=0){return null}if(a.era.getParseValue()==1&&this._parseVal>0){this._parseVal=-this._parseVal+1}}b.setFullYear(this._parseVal);return b},getNumber:function(){var a=this.getValue();return(a<=0)?(-a+1):a},getValue:function(){return this.dt.getFullYear()}});JsSimpleDateFormat._ltr.M=function(){JsSimpleDateFormat._Month.call(this)};JsSimpleDateFormat._ltr.M.__extends__(JsSimpleDateFormat._Month,{applyParseValue:function(b,a){var d=this.getParseValue(),c=b.getDate();b.setMonth(d);while(b.getMonth()!=d){b.setDate(--c);b.setMonth(d)}return b},getIndex:function(){return this.dt.getMonth()},getLongValues:function(){return this.fmtSb.getMonths()},getNumber:function(){return this.dt.getMonth()+1},getParseValue:function(){return this._count<3?this._parseVal-1:this._parseVal},getShortValues:function(){return this.fmtSb.getShortMonths()}});JsSimpleDateFormat._ltr.D=function(){JsSimpleDateFormat._Number.call(this)};JsSimpleDateFormat._ltr.D.__extends__(JsSimpleDateFormat._Number,{_ends:[31,28,31,30,31,30,31,31,30,31,30,31],name:"dayOfYear",_checkLeapYear:function(b){var a=new Date(b.getTime());a.setDate(1);a.setMonth(1);a.setDate(29);if(a.getDate()==29){this._ends[1]=29}else{this._ends[1]=28}},applyParseValue:function(d,b){if(b.year){if(b.year.applyParseValue(d,b)==null){return null}}this._checkLeapYear(d);var c=this._ends,e=this.getParseValue(),a=0;while(e>c[a]&&a<c.length){e-=c[a++]}if(a>=c.length){return null}d.setDate(1);d.setMonth(a);d.setDate(e);return d},getDay:function(){this._checkLeapYear(this.dt);var c=this._ends;var d=this.dt.getMonth(),a=0;for(var b=0;b<d;b++){a+=c[b]}return a+this.dt.getDate()},getValue:function(){return this.getDay()},isValidVal:function(a){return a>=1&&a<=366}});JsSimpleDateFormat._ltr.d=function(){JsSimpleDateFormat._ltr.D.call(this)};JsSimpleDateFormat._ltr.d.__extends__(JsSimpleDateFormat._ltr.D,{name:"day",applyParseValue:function(d,b){if(b.year){if(b.year.applyParseValue(d,b)==null){return null}}this._checkLeapYear(d);if(b.month){if(b.month.applyParseValue(d,b)==null){return null}}var c=this._ends,e=this.getParseValue(),a=d.getMonth();if(e<1||e>c[a]){return null}d.setDate(e);return d},getDay:function(){return this.dt.getDate()},isValidVal:function(a){return a>=1&&a<=31}});JsSimpleDateFormat._ltr.w=function(){JsSimpleDateFormat._ltr.D.call(this)};JsSimpleDateFormat._ltr.w.__extends__(JsSimpleDateFormat._ltr.D,{name:"weekOfYear",_resetMonth:function(a){a.setMonth(0)},applyParseValue:function(b,a){b.setDate(1);this._resetMonth(b);b.setTime(b.getTime()-b.getDay()*86400000+(this._parseVal-1)*7*86400000);return b},getParseValue:function(){return this.getValue()},getValue:function(){return this.getWeek()},getWeek:function(){var a=this.getDay();var b=Math.ceil(a/7);a=a%7;a=(a?a:7)-1;return((this.dt.getDay()<a)?(b+1):b)},isValidVal:function(a){return a>=1&&a<=54}});JsSimpleDateFormat._ltr.W=function(){JsSimpleDateFormat._ltr.w.call(this)};JsSimpleDateFormat._ltr.W.__extends__(JsSimpleDateFormat._ltr.w,{name:"weekOfMonth",_resetMonth:function(a){},getDay:function(){return this.dt.getDate()},isValidVal:function(a){return a>=1&&a<=6}});JsSimpleDateFormat._ltr.F=function(){JsSimpleDateFormat._Number.call(this)};JsSimpleDateFormat._ltr.F.__extends__(JsSimpleDateFormat._Number,{name:"dayOfWeekInMonth",applyParseValue:function(b,a){b.setDate((this.getParseValue()-1)*7+1);return b},isValidVal:function(a){return a>=1&&a<=5},getValue:function(){return Math.ceil(this.dt.getDate()/7)}});JsSimpleDateFormat._ltr.E=function(){JsSimpleDateFormat._Text.call(this)};JsSimpleDateFormat._ltr.E.__extends__(JsSimpleDateFormat._Text,{name:"dayOfWeek",applyParseValue:function(b,a){b.setDate(1);var d=b.getDay();var c=(this._parseVal<d)?(this._parseVal+7):this._parseVal;b.setTime(b.getTime()+(c-d)*86400000);return b},getIndex:function(){return this.dt.getDay()},getLongValues:function(){return this.fmtSb.getWeekdays()},getShortValues:function(){return this.fmtSb.getShortWeekdays()}});JsSimpleDateFormat._ltr.a=function(){JsSimpleDateFormat._Text.call(this)};JsSimpleDateFormat._ltr.a.__extends__(JsSimpleDateFormat._Text,{name:"ampm",getIndex:function(){return(this.dt.getHours()<12?0:1)},getLongValues:function(){return this.fmtSb.getAmPmStrings()},getShortValues:function(){return this.getLongValues()}});JsSimpleDateFormat._ltr.H=function(){JsSimpleDateFormat._Number.call(this)};JsSimpleDateFormat._ltr.H.__extends__(JsSimpleDateFormat._Number,{name:"hour",applyParseValue:function(b,a){b.setHours(this.getParseValue());return b},getValue:function(){return this.dt.getHours()},isValidVal:function(a){return a>=0&&a<=23}});JsSimpleDateFormat._ltr.k=function(){JsSimpleDateFormat._ltr.H.call(this)};JsSimpleDateFormat._ltr.k.__extends__(JsSimpleDateFormat._ltr.H,{getParseValue:function(){return this._parseVal==24?0:this._parseVal},getNumber:function(){var a=this.dt.getHours();return(a>0?a:24)},isValidVal:function(a){return a>=1&&a<=24}});JsSimpleDateFormat._ltr.K=function(){JsSimpleDateFormat._Number.call(this)};JsSimpleDateFormat._ltr.K.__extends__(JsSimpleDateFormat._Number,{name:"h12",applyParseValue:function(b,a){var c=this.getParseValue();if(a.ampm&&a.ampm.getParseValue()==1){c+=12}b.setHours(c);return b},getValue:function(){return this.dt.getHours()%12},isValidVal:function(a){return a>=0&&a<=11}});JsSimpleDateFormat._ltr.h=function(){JsSimpleDateFormat._ltr.K.call(this)};JsSimpleDateFormat._ltr.h.__extends__(JsSimpleDateFormat._ltr.K,{getParseValue:function(){return this._parseVal==12?0:this._parseVal},getNumber:function(){var a=this.dt.getHours()%12;return(a>0?a:12)},isValidVal:function(a){return a>=1&&a<=12}});JsSimpleDateFormat._ltr.m=function(){JsSimpleDateFormat._Number.call(this)};JsSimpleDateFormat._ltr.m.__extends__(JsSimpleDateFormat._Number,{name:"minute",applyParseValue:function(b,a){b.setMinutes(this.getParseValue());return b},getValue:function(){return this.dt.getMinutes()},isValidVal:function(a){return a>=0&&a<=59}});JsSimpleDateFormat._ltr.s=function(){JsSimpleDateFormat._Number.call(this)};JsSimpleDateFormat._ltr.s.__extends__(JsSimpleDateFormat._Number,{name:"second",applyParseValue:function(b,a){b.setSeconds(this.getParseValue());return b},getValue:function(){return this.dt.getSeconds()},isValidVal:function(a){return a>=0&&a<=59}});JsSimpleDateFormat._ltr.S=function(){JsSimpleDateFormat._Number.call(this)};JsSimpleDateFormat._ltr.S.__extends__(JsSimpleDateFormat._Number,{name:"ms",applyParseValue:function(b,a){b.setMilliseconds(this.getParseValue());return b},getValue:function(){return this.dt.getMilliseconds()},isValidVal:function(a){return a>=0&&a<=999}});JsSimpleDateFormat.prototype={_getDefaultPattern:function(){return"dd MMMM yyyy hh:mm a"},_getInitDate:function(){var a=new Date(0);a.setTime(a.getTime()+a.getTimezoneOffset()*60000);return a},applyPattern:function(h){this._arPtn=[];var a=JsSimpleDateFormat._ltr;var k=new JsSimpleDateFormat._Str(""),j="",d=null,b,e=false,g=-1;while(++g<h.length){var f=h.charAt(g);if(f=="'"){if(g<h.length-1&&h.charAt(g+1)=="'"){k.append("'");g++}else{e=!e}j=""}else{if(e){k.append(f)}else{if(f==j){d.addCount()}else{if(b=a[f]){d=new b();if(k.toStr()!=""){this._arPtn.push(k)}k=new JsSimpleDateFormat._Str("");this._arPtn.push(d);j=f}else{k.append(f);j=""}}}}}if(k.toStr()!=""){this._arPtn.push(k)}this._ptn=h},format:function(c){JsSimpleDateFormat._Ltr.prototype.fmtSb=this._fmtSb;JsSimpleDateFormat._Ltr.prototype.dt=c;var b="",d=this._arPtn;for(var a=0;a<d.length;a++){b+=d[a].toStr()}return b},get2DigitYearStart:function(){return this._stDt},getDateFormatSymbols:function(){return this._fmtSb},parse:function(q,n){JsSimpleDateFormat._Ltr.prototype.fmtSb=this._fmtSb;JsSimpleDateFormat._Str.prototype.flexWhiteSpace=this.flexWhiteSpace;JsSimpleDateFormat._Year.prototype.stY=this._stY;JsSimpleDateFormat._Year.prototype.stC=this._stC;if(!n){n={index:0,errorIndex:-1}}var g=n.index,f=0,a=this._arPtn,l={};while(f<a.length){var d=a[f++];var b=(f<a.length)?a[f].isNumber():false;var e=d.parse(q.substr(g),b);if(e==-1){n.errorIndex=g;return null}if(d instanceof JsSimpleDateFormat._Ltr){var c=d.name;if(l[c]){if(l[c].getParseValue()!=d.getParseValue()){n.errorIndex=g;return null}}else{l[c]=d}}g+=e}var o=this._getInitDate();var h=["year","month","dayOfWeek","dayOfWeekInMonth","weekOfMonth","weekOfYear","dayOfYear","day","hour","h12","minute","second","ms"];for(f=0;f<h.length;f++){var c=h[f];if(l[c]){if(l[c].applyParseValue(o,l)==null){n.errorIndex=n.index+g;return null}}}JsSimpleDateFormat._Ltr.prototype.dt=o;for(var c in l){if(l[c].getParseValue()!=l[c].getValue()){n.errorIndex=n.index+g;return null}}n.index+=g;return o},set2DigitYearStart:function(a){this._stDt=a;var b=Math.abs(a.getFullYear());this._stY=b;this._stC=b-(b%100)},setDateFormatSymbols:function(a){this._fmtSb=a},toPattern:function(){return this._ptn}};